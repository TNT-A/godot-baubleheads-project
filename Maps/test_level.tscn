[gd_scene load_steps=7 format=4 uid="uid://dejuduice2m1q"]

[ext_resource type="Script" uid="uid://ban026lk18wos" path="res://Maps/test_level.gd" id="1_kafbu"]
[ext_resource type="TileSet" uid="uid://3fxl7giqa67u" path="res://cave_tileset.tres" id="2_4th80"]
[ext_resource type="PackedScene" uid="uid://q5o4kxajyvl6" path="res://Maps/player_spawn.tscn" id="3_kafbu"]
[ext_resource type="PackedScene" uid="uid://l160kxor0r2e" path="res://components/pathfinding/pathfinding.tscn" id="4_4th80"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1qhcd"]
vertices = PackedVector2Array(352.477, 187.977, 352.102, 189.594, 351.813, 188.211, 352.008, 186.57, 352.719, 187.977, 351.18, 188.203, 384.477, 187.977, 384.102, 189.594, 383.813, 188.211, 384.008, 186.57, 384.719, 187.977, 383.18, 188.203, 352.477, 155.977, 352.102, 157.594, 351.813, 156.211, 352.008, 154.57, 352.719, 155.977, 351.18, 156.203, 384.477, 155.977, 384.102, 157.594, 383.813, 156.211, 384.008, 154.57, 384.719, 155.977, 383.18, 156.203, 458, 330, 470.969, 339.82, -38.5078, 331.172, -10, 330, 470.023, -30.9219, 458, -10, -21.4531, -27.0703, -10, -10, 420.477, 209.867, 420.633, 182, 420.844, 214, 420.633, 214, 415.813, 188.211, 420.477, 177.867, 384.477, 123.977, 384.102, 125.594, 383.813, 124.211, 352.477, 123.977, 352.102, 125.594, 351.813, 124.211, 337.508, 296.18, 347.148, 228.07, 352.008, 218.57, 356.789, 228.07, 362, 296.18, 369.508, 296.18, 379.148, 228.07, 384.008, 218.57, 388.789, 228.07, 394, 296.18, 315.492, 145.57, 320.719, 155.977, 320.477, 155.977, 315.492, 177.57, 320.719, 187.977, 320.477, 187.977, 115.813, 158.453, 415.18, 188.203, 415.813, 156.211, 415.18, 156.203, 420.477, 145.867, 420.633, 150, 411.148, 228.07, 420.844, 246, 420.633, 246, 420.633, 54, 420.844, 86, 420.633, 86, 261.109, 38.7422, 413.711, 38.7422, 420.023, 42, 420.844, 118, 420.633, 118, 420.844, 150, 420.844, 182, 415.813, 124.211, 420.844, 278, 420.82, 278, 251.18, 278, 251.156, 278, 251.367, 246, 324.789, 228.07, 132.633, 246, 132.844, 278, 132.82, 278, 27.1797, 278, 27.1563, 278, 27.3672, 246, 44.1172, 231.156, 27.1563, 246, 27.3672, 214, 43.8594, 202, 44.1172, 202, 27.1563, 214, 27.3672, 182, 44.1875, 158.453, 27.1563, 182, 27.3672, 150, 27.1563, 150, 27.3672, 118, 138.109, 53.6172, 27.1563, 118, 27.3672, 86, 122.891, 38.7422, 34.2891, 38.7422, 27.1563, 86, 27.3672, 54, 27.9766, 42, 420.773, 42, 420.844, 54, 27.1563, 54, 27.2266, 42, 401.508, 296.18, 394, 296.203, 362, 296.203, 330, 296.203, 330, 296.18, 305.508, 296.18, 298, 296.203, 298, 296.18, 273.508, 296.18, 266, 296.203, 266, 296.18, 113.508, 296.18, 106, 296.203, 106, 296.18, 115.883, 231.156, 81.5078, 296.18, 74, 296.203, 74, 296.18, 95.7891, 230.742, 49.5078, 296.18, 42, 296.203, 42, 296.18, 115.883, 202, 116.141, 202, 140.188, 222.453, 140.008, 246, 243.992, 246, 243.813, 222.453, 420.602, 296.18, 251.398, 296.18, 132.602, 296.18, 27.3984, 296.18, 420.023, 38.8203, 27.9766, 38.8203, 315.492, 209.57, 150, 70.7422, 234, 70.7422, 320.477, 123.977, 96.0938, 158.094, 245.891, 53.6172, 234, 64.9297, 150, 64.9297, 63.9063, 158.094, 224.094, 222.094, 159.906, 222.094, 64.2109, 230.742)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 0), PackedInt32Array(5, 3, 0, 2), PackedInt32Array(6, 7, 8), PackedInt32Array(9, 10, 6), PackedInt32Array(11, 9, 6, 8), PackedInt32Array(12, 13, 14), PackedInt32Array(15, 16, 12), PackedInt32Array(17, 15, 12, 14), PackedInt32Array(18, 19, 20), PackedInt32Array(21, 22, 18), PackedInt32Array(23, 21, 18, 20), PackedInt32Array(24, 25, 26, 27), PackedInt32Array(28, 25, 24, 29), PackedInt32Array(30, 28, 29, 31), PackedInt32Array(26, 30, 31, 27), PackedInt32Array(32, 33, 34, 35), PackedInt32Array(33, 32, 36, 37), PackedInt32Array(38, 39, 40), PackedInt32Array(41, 42, 43), PackedInt32Array(44, 45, 46, 47, 48), PackedInt32Array(49, 50, 51, 52, 53), PackedInt32Array(54, 55, 56), PackedInt32Array(57, 58, 59, 60), PackedInt32Array(36, 61, 37), PackedInt32Array(62, 63, 64, 65), PackedInt32Array(66, 32, 35, 67, 68), PackedInt32Array(69, 70, 71, 72, 73, 74), PackedInt32Array(71, 75, 76, 72), PackedInt32Array(76, 77, 65, 64), PackedInt32Array(65, 78, 33, 37), PackedInt32Array(65, 37, 62), PackedInt32Array(76, 64, 79), PackedInt32Array(68, 80, 81, 52, 66), PackedInt32Array(82, 83, 84, 85), PackedInt32Array(86, 87, 88), PackedInt32Array(89, 90, 91), PackedInt32Array(92, 91, 93, 94, 95, 96), PackedInt32Array(95, 94, 97, 98, 99), PackedInt32Array(98, 100, 101, 99), PackedInt32Array(101, 102, 103), PackedInt32Array(104, 103, 105, 106, 107), PackedInt32Array(108, 107, 106, 109, 110, 111), PackedInt32Array(112, 113, 69, 74), PackedInt32Array(110, 114, 115, 111), PackedInt32Array(116, 117, 53), PackedInt32Array(49, 118, 48), PackedInt32Array(44, 119, 120), PackedInt32Array(121, 122, 123, 85), PackedInt32Array(124, 125, 126, 85), PackedInt32Array(86, 88, 127, 128, 129, 130), PackedInt32Array(131, 132, 133, 134), PackedInt32Array(135, 136, 137), PackedInt32Array(86, 130, 138, 139, 140, 141), PackedInt32Array(84, 142, 143, 85), PackedInt32Array(81, 144, 116, 52), PackedInt32Array(126, 145, 82, 85), PackedInt32Array(88, 146, 127), PackedInt32Array(137, 147, 89), PackedInt32Array(73, 148, 74), PackedInt32Array(111, 149, 108), PackedInt32Array(139, 60, 150, 85, 143), PackedInt32Array(59, 150, 60), PackedInt32Array(56, 57, 60, 54), PackedInt32Array(151, 152, 153, 54, 60, 154, 103), PackedInt32Array(52, 116, 53), PackedInt32Array(47, 50, 49, 48), PackedInt32Array(85, 45, 44, 120), PackedInt32Array(85, 120, 121), PackedInt32Array(85, 123, 124), PackedInt32Array(72, 76, 79, 38), PackedInt32Array(72, 38, 40, 41), PackedInt32Array(72, 41, 43, 153, 155), PackedInt32Array(156, 155, 153, 152), PackedInt32Array(103, 104, 157, 151), PackedInt32Array(103, 154, 158, 101), PackedInt32Array(101, 158, 99), PackedInt32Array(139, 143, 159), PackedInt32Array(139, 159, 160), PackedInt32Array(139, 160, 140), PackedInt32Array(135, 137, 89, 91, 92, 161), PackedInt32Array(133, 135, 161, 134), PackedInt32Array(129, 131, 134, 130)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-31, -37, 480, -41, 481, 350, -49, 341)])
source_geometry_mode = 1
source_geometry_group_name = &"navigation"

[sub_resource type="CircleShape2D" id="CircleShape2D_nw82r"]

[node name="TestLevel" type="Node2D"]
script = ExtResource("1_kafbu")

[node name="PlayerSpawn" parent="." instance=ExtResource("3_kafbu")]
position = Vector2(47, 61)

[node name="TileMapLayer" type="TileMapLayer" parent="." groups=["navigation"]]
tile_map_data = PackedByteArray("AAAAAAAAAAANAAMAAAABAAAAAAAOAAMAAAACAAAAAAAOAAMAAAADAAAAAAAOAAMAAAAEAAAAAAALAAYAAAAFAAAAAAAMAAYAAAAGAAAAAAAMAAYAAAAHAAAAAAAOAAYAAAAIAAAAAAAOAAMAAAAJAAAAAAAOAAMAAAAKAAAAAAAOAAMAAAALAAAAAAAOAAMAAAAMAAAAAAAOAAMAAAANAAAAAAAPAAMAAAANAAEAAAAPAAQAAAANAAIAAAAPAAQAAAANAAMAAAAPAAQAAAANAAQAAAAPAAQAAAANAAUAAAAPAAQAAAANAAYAAAAPAAQAAAAAAAYAAAANAAQAAAAAAAUAAAANAAQAAAAAAAQAAAANAAQAAAAAAAMAAAANAAQAAAAAAAIAAAANAAQAAAAAAAEAAAANAAQAAAAFAAMAAAAOAAEAAAAFAAIAAAAOAAEAAAAFAAEAAAAMAAcAAAAEAAEAAAALAAcAAAADAAEAAAAOAAEAAAACAAEAAAAOAAEAAAABAAEAAAAOAAEAAAABAAIAAAAOAAEAAAABAAMAAAAOAAQAAAABAAQAAAAOAAEAAAABAAUAAAAJAAAAAAABAAYAAAAJAAEAAAACAAYAAAAKAAEAAAACAAUAAAAKAAAAAAACAAQAAAAOAAEAAAACAAMAAAAOAAEAAAACAAIAAAAOAAEAAAADAAIAAAAOAAEAAAADAAMAAAAOAAEAAAADAAYAAAALAAEAAAAEAAYAAAAOAAEAAAAEAAMAAAAOAAEAAAAEAAIAAAAOAAEAAAAFAAYAAAAOAAEAAAAGAAYAAAAOAAEAAAAGAAUAAAAOAAEAAAAGAAQAAAAOAAEAAAAGAAMAAAAOAAEAAAAGAAIAAAAOAAEAAAAGAAEAAAAMAAcAAAAHAAEAAAAOAAcAAAAHAAIAAAAOAAEAAAAHAAMAAAAOAAEAAAAHAAQAAAAOAAQAAAAHAAUAAAAOAAEAAAAHAAYAAAAOAAEAAAAIAAYAAAAOAAEAAAAIAAUAAAAOAAEAAAAIAAQAAAAOAAEAAAAIAAMAAAAOAAEAAAAIAAIAAAAOAAEAAAAIAAEAAAAOAAEAAAAJAAEAAAAOAAEAAAAJAAIAAAAOAAEAAAAJAAMAAAAOAAEAAAAJAAQAAAAOAAEAAAAJAAUAAAAOAAEAAAAJAAYAAAAOAAEAAAAKAAMAAAAOAAEAAAAKAAIAAAAOAAEAAAAKAAEAAAAOAAEAAAALAAEAAAAOAAEAAAALAAIAAAAOAAEAAAALAAMAAAAOAAEAAAAMAAMAAAAOAAEAAAAMAAIAAAAOAAEAAAAMAAEAAAAOAAEAAAADAAUAAAALAAAAAAAFAAUAAAAOAAQAAAAFAAQAAAAOAAEAAAAEAAQAAAAOAAEAAAADAAQAAAAOAAEAAAAEAAUAAAAOAAEAAAAAAAkAAAANAAUAAAABAAkAAAAOAAUAAAACAAkAAAAOAAUAAAADAAkAAAAOAAUAAAAEAAkAAAAPAAUAAAAFAAkAAAANAAYAAAAGAAkAAAANAAYAAAAHAAkAAAANAAUAAAAJAAkAAAAOAAUAAAAKAAkAAAAOAAUAAAALAAkAAAAOAAUAAAAMAAkAAAAOAAUAAAANAAkAAAAPAAUAAAAAAAgAAAANAAQAAAAAAAcAAAANAAQAAAANAAgAAAAPAAQAAAANAAcAAAAPAAQAAAAGAAcAAAAGAAAAAAAFAAcAAAAGAAAAAAAEAAcAAAAFAAAAAAADAAcAAAAOAAEAAAACAAcAAAAOAAEAAAABAAcAAAAOAAEAAAABAAgAAAAOAAEAAAACAAgAAAAOAAEAAAADAAgAAAAOAAEAAAAEAAgAAAAPAAQAAAAFAAgAAAANAAYAAAAGAAgAAAANAAYAAAAHAAgAAAANAAQAAAAHAAcAAAAHAAAAAAAIAAcAAAAOAAEAAAAJAAgAAAAOAAEAAAAJAAcAAAAOAAEAAAAKAAcAAAAOAAEAAAAKAAgAAAAOAAQAAAALAAgAAAAOAAEAAAALAAcAAAAOAAEAAAAMAAcAAAAOAAEAAAAMAAgAAAAOAAEAAAAIAAkAAAAOAAUAAAAIAAgAAAAOAAEAAAAKAAYAAAAKAAUAAAAKAAUAAAAKAAUAAAAKAAQAAAAKAAUAAAALAAQAAAAKAAUAAAAMAAQAAAAKAAUAAAAMAAUAAAAKAAUAAAALAAUAAAAKAAUAAAALAAYAAAAKAAUAAAAMAAYAAAAKAAUAAAA=")
tile_set = ExtResource("2_4th80")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="TileMapLayer"]
navigation_polygon = SubResource("NavigationPolygon_1qhcd")

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
position = Vector2(56, 55)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
shape = SubResource("CircleShape2D_nw82r")
disabled = true

[node name="ColorRect" type="ColorRect" parent="CharacterBody2D"]
offset_right = 10.0
offset_bottom = 16.0
metadata/_edit_use_anchors_ = true

[node name="Pathfinding" parent="CharacterBody2D" node_paths=PackedStringArray("host") instance=ExtResource("4_4th80")]
position = Vector2(4, 0)
host = NodePath("..")
pivot_range = 25.0
